<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
    <title>THE QUIZ</title>
  </head>
  <body>
    <h1>WEEK 1 QUIZ 1</h1>
    <h2>Goodluck Guys! NO Cheating!!</h2>
    <div id="authentication">
      <label for="studentid">STUDENT ID:</label>
      <input type="text" id="studentid" />
      <label for="password">PASSWORD</label>
      <input type="password" id="password" />
      <button id="loginButton">Login</button>
    </div>
    <div id="quiz" style="display: none">
      <div id="progressbar">
        Question <span id="currentQuestion">1</span> of
        <span id="totalQuestions">3</span>
      </div>
      <form id="quizForm">
        <div class="questions">
          <p>Q1: What is a flock of crows called?</p>
          <input type="radio" name="q1" value="Crew" />Crew<br />
          <input type="radio" name="q1" value="Murder" />Murder<br />
          <input type="radio" name="q1" value="Squad" />Squad<br />
          <input type="radio" name="q1" value="Gang" />Gang<br />
        </div>
        <div class="questions">
          <p>Q2: Which country invented ice cream?</p>
          <input type="radio" name="q2" value="Italy" />Italy<br />
          <input type="radio" name="q2" value="Canada" />Canada<br />
          <input type="radio" name="q2" value="Norway" />Norway<br />
          <input type="radio" name="q2" value="China" />China<br />
        </div>
        <div class="questions">
          <p>Q3: Who was London's famous serial killer?</p>
          <input type="radio" name="q3" value="Wayne Rooney" />Wayne Rooney<br />
          <input type="radio" name="q3" value="Joe Biden" />Joe Biden<br />
          <input type="radio" name="q3" value="Jack the Ripper" />Jack the
          Ripper<br />
          <input type="radio" name="q3" value="Jeffrey Dahmer" />Jeffrey
          Dahmer<br />
        </div>
        <button type="button" id="submitQuiz">Submit</button>
      </form>
      <div id="results" style="display: none">
        <p>You scored: <span id="score"></span></p>
      </div>
    </div>
    <script>
      //This function will handle the click event for the login button
      document
        .getElementById("loginButton")
        .addEventListener("click", function () {
          const studentid = document.getElementById("studentid").value; //recalls value input
          const password = document.getElementById("password").value; //recalls value input
          //This function will verify authentication in this case it is fake, so as long as the fields are not empty hence, the !==, it will allow the user to proceed
          if (studentid !== "" && password !== "") {
            document.getElementById("authentication").style.display = "none"; // Hides authentication if fields are valid
            document.getElementById("quiz").style.display = "block"; // lets user view quiz if authentication is approved
          } else {
            alert("StudentID or Password Invalid"); //will give alert if either of the fields are left blank
          }
        });

      // this function will handle the progressbar
      const totalQuestions = document.querySelectorALL(".questions").length; //selects all elements on 'questions' div
      document.getElementById("totalQuestions").textContent = totalQuestions; // Displays the number of questions in the quiz from totalQuestions span element
      // now we use let statements to set the questions counter to 1
      let currentQuestion = 1;
      document.getElementById("currentQuestion").textContent = currentQuestion; // Displays the current question counter value in the currentQuestion ID from progress div
      // now we will add an event listener to aknowledge the quiz submission
      document
        .getElementById("submitQuiz")
        .addEventListener("click", function () {
          // now we can start the counter for the score
          let score = 0;
          // declare the right answers so we can run if else to mark the quiz
          const answers = {
            q1: "Murder",
            q2: "China",
            q3: "Jack the Ripper",
          };

          // declare the form inputs from the 'quizForm'
          const formElements = document.getElementById("quizForm").elements;
          // now we compare inputs to the correct answers and mark the quiz
          for (let answer in answers) {
            const userAnswer = formElements[answer].value; // declare the value inputed by user as a constant called userAnswer
            if (userAnswer === answers[answer]) {
              //if statement confirms the input is equal to the correct answer using ===
              formElements[answer], parentElement.classList.add("correct"); //adds 'correct' to parent element if condition is met
              score++; //adds 1 to the score counter (increment increase)
            } else {
              formElements[answer].parentElement.classList.add("incorrect"); // if condition is not met, no score is added and incorrect is added to parent element
            }
          }
          // now we change the display style for results from none to block to show the section
          document.getElementById("results").style.display = "block";
          // now we can display the final results of the quiz to the user
          document.getElementById("score").textContent = score;
          currentQuestion++; //incremental increase in progress bar
          document.getElementById("currentQuestion").textContent =
            currentQuestion;
        });
    </script>
  </body>
</html>
